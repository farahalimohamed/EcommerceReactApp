import{b as i,k as C,C as I,W as w,j as s,l as k,B as E,f as P,h as W,e as A,V as r}from"./index-CtlE6Ll6.js";import{H as D}from"./Helmet-CwZ9N303.js";function S(){var n,o,d;const[e,m]=i.useState({}),[x,u]=i.useState(0),[c,l]=i.useState(!1),{productId:h}=C(),{addToCart:p,setNumOfCartItems:f,setCartId:j}=i.useContext(I),{addToWishlist:g,setNumOfWishListItems:b}=i.useContext(w);async function N(){await A.get(`https://ecommerce.routemisr.com/api/v1/products/${h}`).then(a=>m(a.data.data)).catch(a=>console.log(a))}async function y(a){let t=await p(a);t.status==="success"?(f(t.numOfCartItems),j(t.cartId),r.success(t.message)):r.error("Error adding product to cart")}async function v(a){l(!0);let t=await g(a);t.status==="success"?(r.success(t.message),b(t.data.length)):r.error("Error adding product to wishlist"),setTimeout(()=>{l(!1)},2e3)}return i.useEffect(()=>{N()},[]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container",children:[s.jsx(D,{children:s.jsx("title",{children:e.title})}),s.jsx("div",{className:"mx-auto px-4 py-8",children:s.jsxs("div",{className:"flex flex-wrap -mx-4",children:[s.jsxs("div",{className:"w-full md:w-1/2 px-4 mb-8",children:[s.jsx("img",{src:e.imageCover,alt:"Product",className:"w-full h-[500px] object-contain mb-4",id:"mainImage"}),s.jsx("div",{className:"flex gap-2 space-x-4 py-4 justify-center overflow-x-auto hide-scrollbar",children:(n=e.images)==null?void 0:n.map((a,t)=>s.jsx("img",{src:a,alt:"Product",className:`size-16 sm:size-20 object-cover rounded-md cursor-pointer hover:opacity-100 transition duration-300 ${t===x?"opacity-100 border-2":"opacity-60"}`,onClick:()=>{document.getElementById("mainImage").setAttribute("src",a),u(t)}},t))})]}),s.jsxs("div",{className:"w-full md:w-1/2 px-4",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:(o=e.category)==null?void 0:o.name}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("span",{className:"text-2xl font-bold mr-2",children:[e.priceAfterDiscount?e.priceAfterDiscount:e.price," ","EGP"]}),e.priceAfterDiscount&&s.jsxs("span",{className:"text-gray-500 line-through",children:[e.price," EGP"]})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(k,{className:"size-6 text-yellow-300"}),s.jsxs("span",{className:"ml-2 text-gray-600",children:[e.ratingsAverage," (",e.ratingsQuantity," reviews)"]})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:e.description}),s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsx("p",{className:"block text-base font-bold text-gray-700",children:"Brand:"}),s.jsx("span",{className:"ms-1",children:(d=e.brand)==null?void 0:d.name})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsxs("button",{onClick:()=>{y(e._id)},className:"bg-[#6456ff] hover:bg-[#5647ff] flex gap-2 items-center text-white px-6 py-2 rounded-md",children:[s.jsx(E,{}),"Add to Cart"]}),s.jsxs("button",{onClick:()=>v(e._id),className:`bg-pink-100 hover:bg-pink-200 flex gap-2 items-center text-gray-800 px-6 py-2 rounded-md ${c?"animate-pulse":""}`,children:[c?s.jsx(P,{className:"text-pink-600"}):s.jsx(W,{className:"text-pink-600"}),"Wishlist"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Key Features:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700",children:[s.jsx("li",{children:"Industry-leading noise cancellation"}),s.jsx("li",{children:"30-hour battery life"}),s.jsx("li",{children:"Touch sensor controls"}),s.jsx("li",{children:"Speak-to-chat technology"})]})]})]})]})})]})})}export{S as default};
