import{b as r,W as N,C as b,j as e,L as v,V as a}from"./index-DxzwiYFp.js";import{L as w}from"./Loader-DHVGsxAk.js";import{E as C}from"./empty-cart-BG5WlCOO.js";function L(){const{getLoggedWishlist:n,removeProductFromWishlist:x,setNumOfWishListItems:c}=r.useContext(N),{addToCart:m,setNumOfCartItems:h,setCartId:p}=r.useContext(b),[o,u]=r.useState(null),[f,g]=r.useState(!0);async function i(){try{let t=await n();u(t.data),c(t.count)}catch{a.error("Error fetching wishlist data")}finally{g(!1)}}r.useEffect(()=>{i()},[]);async function y(t){let s=await m(t);s.status==="success"?(h(s.numOfCartItems),p(s.cartId),l(t,!1),a.success(s.message)):a.error("Error adding product to cart")}async function l(t,s=!0){let d=await x(t);d.status==="success"?(s&&a.success(d.message),i(),c(j=>j-1)):a.error("Error removing product from wishlist")}return e.jsx("div",{className:"container mx-auto py-8",children:f?e.jsx(w,{}):o&&o.length>0?e.jsx("div",{className:"relative overflow-x-auto sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Product name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:o.map(t=>{var s;return e.jsxs("tr",{className:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.jsx("img",{src:t.imageCover,alt:t.title,className:"w-20 h-20 object-cover rounded"})}),e.jsx("td",{className:"px-6 py-4",children:t.title}),e.jsx("td",{className:"px-6 py-4",children:(s=t.category)==null?void 0:s.name}),e.jsx("td",{className:"px-6 py-4",children:t.price}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("button",{onClick:()=>y(t._id),className:"font-medium text-[#6456ff] dark:text-[#6456ff] hover:text-[#5647ff] dark:hover:text-[#5647ff]",children:"Add to cart"}),e.jsx("button",{onClick:()=>l(t._id),className:"font-medium ml-5 text-red-500 dark:text-red-500 hover:text-red-700 dark:hover:text-red-700",children:"Remove"})]})]},t._id)})})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 my-10",children:[e.jsx("img",{src:C,className:"h-80",alt:"Empty Wishlist"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mt-2",children:"Your wishlist is empty"}),e.jsx(v,{to:"/products",className:"text-sm text-center px-4 py-2.5 mt-4 font-semibold tracking-wide bg-[#6456ff] hover:bg-[#5647ff] hover:text-white text-white rounded-md",children:"Continue Shopping"})]})})}export{L as default};
