import{b as s,C as v,W as P,j as t,e as C,V as a}from"./index-C6SzbBKQ.js";import{L as N}from"./Loader-DIhzc8FL.js";import{P as L}from"./ProductItem-UJBDHjd1.js";import{H as W}from"./Helmet-BVGOygXr.js";function S(){const[n,x]=s.useState([]),{addToCart:h,setNumOfCartItems:u,setCartId:m}=s.useContext(v),{addToWishlist:y,setNumOfWishListItems:f}=s.useContext(P),[c,o]=s.useState(1),[i]=s.useState(20);async function p(){try{const e=await C.get("https://ecommerce.routemisr.com/api/v1/products");x(e.data.data)}catch(e){console.log(e)}}s.useEffect(()=>{p()},[]);async function j(e){let r=await h(e);r.status==="success"?(u(r.numOfCartItems),m(r.cartId),a.success(r.message)):a.error("Error adding product to cart")}async function b(e){let r=await y(e);r.status==="success"?(a.success(r.message),f(r.data.length)):a.error("Error adding product to wishlist")}const d=c*i,k=d-i,l=n.slice(k,d),w=e=>o(e),g=Math.ceil(n.length/i);return t.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col items-center justify-center",children:[t.jsx(W,{children:t.jsx("title",{children:"Products"})}),t.jsxs("div",{className:"p-4 lg:max-w-6xl md:max-w-3xl",children:[t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:l.length>0?l.map(e=>t.jsx("div",{children:t.jsx(L,{product:e,addProductToCart:j,addProductToWishlist:b})},e.id)):t.jsx("div",{className:"col-span-full flex justify-center items-center h-screen",children:t.jsx(N,{})})}),t.jsx("nav",{className:"mt-6 flex items-center justify-center","aria-label":"Page navigation example",children:t.jsxs("ul",{className:"flex h-8 items-center -space-x-px text-sm",children:[t.jsx("li",{children:t.jsxs("button",{onClick:()=>o(e=>e>1?e-1:e),className:"ms-0 flex h-8 items-center justify-center rounded-s-lg border border-e-0 border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[t.jsx("span",{className:"sr-only",children:"Previous"}),t.jsx("svg",{className:"h-4 w-4 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",children:t.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m15 19-7-7 7-7"})})]})}),Array.from({length:g},(e,r)=>r+1).map(e=>t.jsx("li",{children:t.jsx("button",{onClick:()=>w(e),className:`flex h-8 items-center justify-center border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white ${c===e?"z-10 bg-primary-50 text-primary-600 dark:bg-gray-700 dark:text-white":""}`,children:e})},e)),t.jsx("li",{children:t.jsxs("button",{onClick:()=>o(e=>e<g?e+1:e),className:"flex h-8 items-center justify-center rounded-e-lg border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[t.jsx("span",{className:"sr-only",children:"Next"}),t.jsx("svg",{className:"h-4 w-4 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",children:t.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m9 5 7 7-7 7"})})]})})]})})]})]})}export{S as default};
